<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<!-- Start Head -->
<div th:replace="fragments/head :: head"></div>
<!-- End Head -->
<body>

    <!-- Start Navbar  -->
    <div th:replace="fragments/header :: header"></div>
    <!-- End Navbar -->

    <!-- Start nav -->
    <div th:replace="fragments/nav :: nav"></div>
    <!-- End nav -->

    <div th:replace="fragments/breadcrumb :: breadcrumb"></div>

    <main class="main-content">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                        <form th:action="@{/products/filter}" method="get" style="border: 1px solid #ccc; padding: 20px; border-radius: 10px; width: 300px; background-color: #f9f9f9; margin-top: 20px;">
                            <h6 style="margin-bottom: 15px;">üîç B·ªô l·ªçc s·∫£n ph·∫©m</h6>

                            <!-- Th∆∞∆°ng hi·ªáu -->
                            <div style="margin-bottom: 20px;">
                                <strong>Th∆∞∆°ng hi·ªáu:</strong><br>
                                <label><input type="checkbox" name="brand" value="Apple" th:checked="${selectedBrand == 'Apple'}"> Apple</label><br>
                                <label><input type="checkbox" name="brand" value="Samsung" th:checked="${selectedBrand == 'Samsung'}"> Samsung</label><br>
                                <label><input type="checkbox" name="brand" value="Xiaomi" th:checked="${selectedBrand == 'Xiaomi'}"> Xiaomi</label><br>
                                <label><input type="checkbox" name="brand" value="OPPO" th:checked="${selectedBrand == 'OPPO'}"> OPPO</label><br>
                                <label><input type="checkbox" name="brand" value="Google Pixel" th:checked="${selectedBrand == 'Google Pixel'}"> Google Pixel</label><br>
                                <label><input type="checkbox" name="brand" value="Sony" th:checked="${selectedBrand == 'Sony'}"> Sony</label><br>
                            </div>

                            <!-- M·ª©c gi√° -->
                            <div style="margin-bottom: 20px;">
                                <strong>M·ª©c gi√°:</strong><br>
                                <label><input type="radio" name="priceRange" value="0-2000000" th:checked="${minPrice == 0 and maxPrice == 2000000}"> D∆∞·ªõi 2 tri·ªáu</label><br>
                                <label><input type="radio" name="priceRange" value="2000000-4000000" th:checked="${minPrice == 2000000 and maxPrice == 4000000}"> 2 - 4 tri·ªáu</label><br>
                                <label><input type="radio" name="priceRange" value="4000000-7000000" th:checked="${minPrice == 4000000 and maxPrice == 7000000}"> 4 - 7 tri·ªáu</label><br>
                                <label><input type="radio" name="priceRange" value="7000000-13000000" th:checked="${minPrice == 7000000 and maxPrice == 13000000}"> 7 - 13 tri·ªáu</label><br>
                                <label><input type="radio" name="priceRange" value="13000000-100000000" th:checked="${minPrice == 13000000}"> Tr√™n 13 tri·ªáu</label><br>
                            </div>

                            <!-- Kho·∫£ng gi√° t√πy ch·ªçn -->
                            <div style="margin-bottom: 20px; display: flex; flex-direction: column; gap: 10px;">
                                <strong>Kho·∫£ng gi√° t√πy ch·ªçn:</strong>
                                <input type="number" name="minPrice" placeholder="T·ª´" th:value="${minPrice}" style="width: 100%; margin-right: 5px;">
                                <input type="number" name="maxPrice" placeholder="ƒê·∫øn" th:value="${maxPrice}" style="width: 100%;">
                            </div>

                            <button type="submit" style="padding: 10px 20px; background-color: #D70018; color: white; border: none; border-radius: 5px; cursor: pointer; width: 100%;">
                                L·ªçc
                            </button>
                        </form>
                </div>

                <div class="col-lg-9">
                    <div class="products-container" th:if="${!products.isEmpty()}">
                        <div class="products-item" th:each="product : ${products}">
                            <a class="link-products" th:href="@{'/detail_product/' + ${product.productId}}">
                                <img th:src="@{'/be/img/products/'+${product.thumbnail}}" alt="product">
                                <h3 th:text="${product.productName}"></h3>
                                <div class="price">
                                    <span class="current-price" th:text="${@formatUtils.formatCurrency(product.price)}"></span>
                                    <span class="original-price" th:text="${@formatUtils.formatCurrency(product.originalPrice)}"></span>
                                </div>
                            </a>
                            <div class="promotion">
                                T-Student gi·∫£m th√™m ƒë·∫øn <span class="highlight">600.000ƒë</span>
                            </div>
                            <div class="installment-info">
                                Kh√¥ng ph√≠ chuy·ªÉn ƒë·ªïi khi tr·∫£ g√≥p 0% qua th·∫ª t√≠n d·ª•ng
                            </div>
                            <div class="rating">
                                <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                                <button class="favorite">Y√™u th√≠ch ‚ô°</button>
                            </div>
                        </div>
                    </div>
                    <div class="justify-content-center" style="font-size: 16px; display: flex; margin-top: 20px;" th:if="${products.isEmpty()}">
                        <p>Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m c·∫ßn t√¨m!</p>
                    </div>

                    <!--<div class="pagination">
                        <a href="#" class="page-link active">1</a>
                        <a href="#" class="page-link">2</a>
                        <a href="#" class="page-link">3</a>
                        <a href="#" class="page-link">4</a>
                        <a href="#" class="page-link">5</a>
                    </div>-->
                </div>


            </div>
            <p th:if="${products.isEmpty()}">Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m ph√π h·ª£p.</p>
        </div>
    </main>

    <hr class="brick">

    <!-- Start Footer -->
    <div th:replace="fragments/footer :: footer"></div>
    <!-- End Footer  -->

    <!-- Jquery Validation Library  -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.js}"></script>
    <script type="text/javascript" th:src="@{fe/js/script.js}"></script>
    <!-- End  -->
    <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous">
    </script>
</body>
</html>